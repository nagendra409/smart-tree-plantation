<script>
  let trees = JSON.parse(localStorage.getItem("trees")) || [];

  function displayTrees() {
    let list = document.getElementById("treeList");
    list.innerHTML = "";
    document.getElementById("count").innerText = trees.length;

    trees.forEach((tree, index) => {
      list.innerHTML += `
        <p>
          ðŸŒ± <b>${tree.name}</b> planted at <b>${tree.location}</b>
          <button onclick="deleteTree(${index})" style="margin-left:10px;background:red;">X</button>
        </p>
      `;
    });
  }

  function addTree() {
    let name = document.getElementById("treeName").value;
    let location = document.getElementById("location").value;

    if(name === "" || location === "") {
      alert("Please fill all details!");
      return;
    }

    trees.push({name, location});
    localStorage.setItem("trees", JSON.stringify(trees));

    document.getElementById("treeName").value = "";
    document.getElementById("location").value = "";

    displayTrees();
  }

  function deleteTree(index) {
    trees.splice(index, 1);
    localStorage.setItem("trees", JSON.stringify(trees));
    displayTrees();
  }

  // Load data when page opens
  window.onload = displayTrees;
</script>
